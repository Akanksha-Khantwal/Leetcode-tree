
/*
class Node {
public:
    int data;
    Node *left;
    Node *right;

    Node(int x) {
        data = x;
        left = NULL;
        right = NULL;
    }
};
*/

class Solution {
  public:
    int find(vector<int>&inorder,int target,int start,int end){
        for(int i=start;i<=end;i++){
            if(inorder[i]==target){
            return i;
            }
        }
     return -1;
    }
    Node *buildTreehelper(vector<int> &inorder, vector<int> &preorder,int instart,int inend,int &index){
         if(instart>inend)
         return NULL;
         Node* root =new Node(preorder[index]);
         int curr=preorder[index];
         index++;
         int pos =find(inorder,curr,instart,inend);
         root->left=buildTreehelper(inorder,preorder,instart,pos-1,index);
         root->right=buildTreehelper(inorder,preorder,pos+1,inend,index);
    return root;   
    }
    
    Node*buildTree(vector<int>&inorder,vector<int>&preorder){
        int index=0;
        return buildTreehelper(inorder,preorder,0,inorder.size()-1,index);
    }
  
};
